{% trans_default_domain 'FOSUserBundle' %}
{% extends "SmartUnityUtilisateurBundle::layout.html.twig" %}
{% form_theme form 'SmartUnityUtilisateurBundle:Form:form_register.html.twig' %}

{% block stylesheets %} 
{% stylesheets filter='cssrewrite, yui_css'
				 'assets/css/formulaire.css' %}
<link rel="stylesheet" href="{{ asset_url }}" type="text/css" />
{% endstylesheets %}
{%endblock%}

{% block register %}
<div class="row">

    <div class="col-md-offset-1 col-md-10 text-why">
            <div class="title text-center cookie-title">
                Pourquoi ?
            </div>
            <div>
                <p class="police-text"> Pourquoi rejoindre la communauté Smart’Unity.fr ? En tant que membre, 
                    vous pourrez accéder à tous les contenus et ressources apportés par les 
                    autres membres de la communauté.
                </p>
                <p class="police-text">Pour s’incrire, il vous suffit de remplir le formulaire suivant. Les champs 
                    marqués d’un <span style="color: red;">*</span> sont obligatoires. L’adresse e-mail doit être valide pour que
                    le compte soit créé. Un mail de confirmation vous sera envoyé à la fin de l’inscription.
                </p><br/>
            </div>
    </div>
</div>

<div class="row">
    <div class="col-md-offset-1 col-md-10">
                            <div class="pad-l">{{ facebook_login_button({'autologoutlink': false, 'size': 'xlarge', 'label': "Se connecter avec Facebook"}) }}</div>
                            <div class="row text-center separateur-choix-inscription">OU</div>
                            <div class="row text-center cookie-title titre-inscription">
                Créer un compte
            </div>
        
            <form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register">

                <div class="erreur">
                    <p >{{form_errors(form.username)}}</p>
                    <p>{{form_errors(form.email)}}</p>
                    <p>{{form_errors(form.plainPassword.first)}}</p> 
                    <p>{{form_errors(form.plainPassword.second)}}</p> 
                </div>
                <fieldset>
                    <legend>Compte</legend>
                    <div class="row premiere-ligne ">
                        <div class="grille-1 police-text">{{form_label(form.username)}}<span style="color: red;"> *</span></div>
                        <div class="grille-2 police-text">{{form_widget(form.username)}}</div>
                    </div> 
                    <div class="row">
                        <div class="grille-1 police-text">{{form_label(form.email)}}<span style="color: red;"> *</span></div>
                        <div class="grille-2 police-text">{{form_widget(form.email)}}</div>
                    </div> 
                    <div class="row">
                        <div class="grille-1 police-text">{{form_label(form.plainPassword.first)}}<span style="color: red;"> *</span></div>
                        <div class="grille-2 police-text">{{form_widget(form.plainPassword.first)}}</div>
                    </div> 
                    <div class="row">
                        <div class="grille-1 police-text">{{form_label(form.plainPassword.second)}}<span style="color: red;"> *</span></div>
                        <div class="grille-2 police-text">{{form_widget(form.plainPassword.second)}}</div>
                    </div> 

{#                    <div class="cent-h bouton-bas-block">
                        <button type="submit" class="btn-inscription">Inscription express</button>
                    </div> #}
                </fieldset>


                <fieldset>
                    <legend>Informations personnelles</legend>
                    <div class="row premiere-ligne ">
                        <div class="grille-1 police-text">{{form_label(form.nom)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.nom)}}</div>
                    </div>   
                    <div class="row ">
                        <div class="grille-1 police-text">{{form_label(form.prenom)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.prenom)}}</div>
                    </div> 
                    <div class="row">
                        <div class="grille-1 police-text">{{form_label(form.sexe)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.sexe)}}</div>
                    </div> 
                    <div class="row ">
                        <div class="grille-1 police-text">{{form_label(form.date_naissance)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.date_naissance)}}</div>
                    </div>
                    <div class="row ">
                        <div class="grille-1 police-text">{{form_label(form.telephone)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.telephone)}}</div>
                    </div>     
                    <div class="row ">
                        <div class="grille-1 police-text">{{form_label(form.info_plus)}}</div>
                        <div class="grille-2 police-text">{{form_widget(form.info_plus)}}</div>
                    </div>                
                </fieldset>
                <div class="cent-h bouton-bas-block">
                    <button type="submit" class="btn-inscription">Créer un compte</button>
                </div>
               <div class="text-center">
               <p class="accept-cgu"> En validant votre inscription, vous acceptez <a href="{{ path('smart_unity_app_conditionsPage') }}">CGU</a> de Smart'Unity.</p>
                </div>

{{form_end(form)}}

{#        </div>#}
    </div>
</div>   

<script type="text/javascript">
    var config = {
        '.chosen-select': {},
        '.chosen-select-deselect': {allow_single_deselect: true},
        '.chosen-select-no-single': {disable_search_threshold: 10},
        '.chosen-select-no-results': {no_results_text: 'Oops, nothing found!'},
        '.chosen-select-width': {width: "95%"}
    }
    for (var selector in config) {
        $(selector).chosen(config[selector]);
    }
</script>

{% endblock register %}

